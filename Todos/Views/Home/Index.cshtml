@{
    ViewData["Title"] = "To do";
}
@using Todos.Common.Enums
@model NoteList

@* Filters segment *@
<div class="shadow-lg shadow-gray-100 p-6 pb-10">
    <form>
        <div class="flex justify-start">
            @* Date Picker - Date from *@
            <div class="relative max-w-sm">
                @* Symbol *@
                <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                    <svg class="w-5 h-5 text-gray-900" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"/>
                    </svg>
                </div>
                @* Form *@
                <input asp-for="@Model.DateFrom" datepicker datepicker-autohide datepicker-format="dd. MM yyyy" type="text" class="bg-white border border-2 border-gray-100 text-gray-900 rounded-lg focus:ring-gray-500 focus:border-gray-500 block w-full text-lg px-10 p-2.5 placeholder-gray-900" placeholder="Date from">
            </div>

            @* Date Picker - Date to *@
            <div class="relative max-w-sm">
                @* Symbol *@
                <div class="absolute inset-y-0 left-0 flex items-center pl-3 ml-6 pointer-events-none">
                    <svg class="w-5 h-5 text-gray-900" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"/>
                    </svg>
                </div>
                @* Form *@
                <input asp-for="@Model.DateTo" datepicker datepicker-autohide datepicker-format="dd. MM yyyy" type="text" class="bg-white border border-2 border-gray-100 text-gray-900 rounded-lg focus:ring-gray-500 focus:border-gray-500 block w-full text-lg px-10 p-2.5 ml-6 placeholder-gray-900" placeholder="Date to">
            </div>

            @* Dropdown menu - Categories *@
            <div class="relative max-w-sm mr-6">
                @* Symbol *@
                <div class="absolute inset-y-0 left-0 flex items-center pl-9 ml-7 pointer-events-none">
                    <svg class="w-5 h-5 text-gray-900" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"/>
                    </svg>
                </div>
                @* Form *@
                <select asp-for="@Model.NoteType" class="bg-white border border-2 border-gray-100 text-gray-900 rounded-lg focus:ring-gray-500 focus:border-gray-500 block w-full text-lg pl-10 pr-24 ml-12 p-2.5">
                    <option selected>All categories</option>
                    @foreach (NoteType type in Enum.GetValues(typeof(NoteType)))
                    {
                        <option value="@type">@type</option>
                    }
                </select>
            </div>

            <div class="relative">
                <button
                    id="listNotes"
                    class="bg-gray-100 w-full text-gray-600 font-black hover:text-white hover:bg-pink-300 text-lg py-2 mx-12 rounded-lg focus:outline-none focus:shadow-outline h-12"
                    type="submit">
                    Apply filter
                </button>
            </div>
        </div>
    </form>
</div>

@* Body segment *@
@foreach (var day in Model.Days)
{
    <div class="m-6">
        <div class="flex flex-col-2 justify-between px-6 mb-2 mt-12 ">
            @* Date arrangement *@
            <div class="container col-span-5 w-40 h-auto my-auto">
                <div class="grid grid-cols-2 w-auto h-auto">
                    <div class="row-span-2 text-left font-black text-6xl pr-1 pb-0 align-bottom">@day.Date.Day.ToString("00")</div>
                    <div class="col-span-1 text-xl font-black align-bottom">@day.Month.ToString().ToUpper()</div>
                    <div class="col-span-1 text-xl font-black align-top">@day.Date.Year</div>
                </div>
            </div>

            @* Icon for adding new note *@
            @if (day.Date.Date == DateTimeOffset.Now.Date)
            {
                <div class="container w-6 h-auto my-auto">
                    <a href="/notes/add">
                        <svg class="h-7 w-7 text-gray-400 hover:text-gray-900" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/> <line x1="12" y1="8" x2="12" y2="16"/> <line x1="8" y1="12" x2="16" y2="12"/>
                        </svg>
                    </a>
                </div>
            }
        </div>

        <hr class="mx-5 mb-4 h-px bg-gray-50 border-[1.5px] rounded-full opacity-50">

        @* Note card form *@
        <div class="grid 2xl:grid-cols-3 xl:grid-cols-3 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1">
            @foreach (var note in day.Notes)
            {
                <div class="block max-w-md max-h-lg p-6 m-6 @note.BackgroundColor rounded-xl">
                    <div class="flex flex-col-2 justify-between">
                        <div class="container w-auto h-auto">
                            <h1 class="@note.TextColor pb-4 uppercase font-bold">@note.NoteType.Name</h1>
                        </div>
                        <div class="container w-auto h-auto">
                            <div class="flex flex-col-2 gap-3 justify-end">

                                <div class="container w-auto h-auto mt-0.5">
                                    <a href="/notes/show?id=@note.Id">
                                        <svg class="h-7 w-7 @note.TextColor hover:text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z"/> <rect x="3" y="5" width="18" height="14" rx="3"/> <line x1="3" y1="10" x2="21" y2="10"/> <line x1="7" y1="15" x2="7.01" y2="15"/> <line x1="11" y1="15" x2="13" y2="15"/>
                                        </svg>
                                    </a>
                                </div>

                                <div class="container w-auto h-auto">
                                    <a href="/notes/edit?id=@note.Id">
                                        <svg class="h-7 w-7 @note.TextColor hover:text-white" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z"/> <path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/> <path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/> <line x1="16" y1="5" x2="19" y2="8"/>
                                        </svg>
                                    </a>
                                </div>

                                <div class="container w-auto h-auto">
                                    <a href="/notes/delete?id=@note.Id">
                                        <svg class="h-7 w-7 @note.TextColor hover:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                        </svg>
                                    </a>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col-2 mt-2 justify-between">
                        <h5 class="mb-2 text-2xl font-black tracking-tight text-gray-900">@note.Title</h5>
                        <div class="w-auto h-auto">
                            <h1 class="@note.TextColor pb-4 font-bold">@note.NoteStatus.Name</h1>
                        </div>
                    </div>
                    <p class="font-normal text-lg text-gray-700">@note.Description</p>
                </div>
            }
        </div>
    </div>
}